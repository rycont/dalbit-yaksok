# Dalbit Yaksok v2 → v3 변경 사항

Dalbit Yaksok v3.0.0은 언어의 **편의성(Syntax Sugar)**과 **표현력**을 대폭 강화하는 업데이트입니다.
기존 v2에서 불편했던 점들을 개선하고, 사전(Dictionary)과 복합 대입 연산자 등 현대적인 프로그래밍 언어의 필수 기능들이 추가되었습니다.

---

## ✨ 새로운 기능 (New Features)

### 1. 사전 (Dictionary) 자료형 추가

이제 키와 값의 쌍으로 이루어진 **사전**을 사용할 수 있습니다. JSON이나 Python의 Dictionary와 유사합니다.

```yaksok
# 사전 만들기
학생 = {
    이름: "홍길동"
    나이: 17
    취미: ["축구", "독서"]
}

# 값 가져오기
학생["이름"] 보여주기

# 값 변경하기
학생["나이"] = 18
```

- 키는 따옴표 없이 작성할 수 있습니다.
- 쉼표(`,`)는 선택 사항입니다.
- `사전[키]` 문법으로 값을 읽거나 쓸 수 있습니다.

### 2. 횟수 반복문 (Count Loop)

특정 횟수만큼 반복하는 구문이 훨씬 간결해졌습니다.

#### v2 (과거)
```yaksok
횟수 = 0
반복
    횟수 = 횟수 + 1
    "안녕" 보여주기
    만약 횟수 == 5 이면
        반복 그만
```

#### v3 (신규)
```yaksok
5번 반복
    "안녕" 보여주기
```
또는
```yaksok
반복 5번
    "안녕" 보여주기
```

### 3. 복합 대입 연산자 (Compound Assignment)

변수의 값을 변경할 때 더 짧은 문법을 사용할 수 있습니다.

| 연산자 | 의미 | 예시 |
| :--- | :--- | :--- |
| `+=` | 더해서 대입 | `나이 += 1` (나이 = 나이 + 1) |
| `-=` | 빼서 대입 | `체력 -= 10` |
| `*=` | 곱해서 대입 | `월급 *= 1.1` |
| `/=` | 나눠서 대입 | `피자 /= 2` |
| `%=` | 나머지 대입 | `숫자 %= 2` |

### 4. 더 유연한 반복문 문법

"~마다" 구문을 사용할 때 순서를 자유롭게 바꿀 수 있습니다.

```yaksok
# 기존 (v2)
반복 목록 의 항목 마다
    항목 보여주기

# 신규 (v3 허용)
목록 의 항목 마다 반복
    항목 보여주기

# '하기' 붙이기 가능
목록 의 항목 마다 반복하기
    항목 보여주기
```

---

## 🛠️ 런타임 변경 사항

### 1. 실행 제어 강화 (Pause & Resume)
코드 실행을 일시 정지하거나 재개하는 기능이 강화되었습니다.
- `stepByStep` 모드를 통해 코드를 한 줄씩 실행할 수 있습니다.
- 무한 루프에 빠졌을 때 `AbortSignal`을 통해 안전하게 종료할 수 있습니다.

---

## 🚨 마이그레이션 가이드

v2에서 v3로의 변화는 **하위 호환성을 대부분 유지**합니다.
v2 문법으로 작성된 코드는 v3에서도 문제없이 동작합니다.

단, **새로운 예약어**나 **문법**을 변수명으로 사용하고 있었다면 충돌이 발생할 수 있으니 확인이 필요합니다.

- `{`, `}` 기호가 사전 문법으로 사용되므로, 코드 내에서 해당 기호를 특수한 목적으로 파싱하고 있었다면 주의가 필요합니다.
