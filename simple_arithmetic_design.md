# 설계도: 5. 단순 산술 연산자 (+, -) 구현

**목표:** `Evaluate` 함수를 확장하여 두 숫자(정수 또는 실수) 사이의 덧셈(`+`) 및 뺄셈(`-`) 연산을 처리하도록 합니다. 연산은 왼쪽에서 오른쪽으로 순서대로 처리하며, 아직 연산자 우선순위는 고려하지 않습니다.

**이행 절차:**

1.  **덧셈/뺄셈 연산 테스트 케이스 작성:**
    *   작업: `interpreter/interpreter_test.go`에 `TestEvaluateArithmeticSimple` (또는 유사한 이름) 테스트 함수를 추가합니다. 이 함수는 다음을 포함하여 다양한 덧셈 및 뺄셈 케이스를 테스트합니다:
        *   `"1 + 2"` 입력 시 `int64(3)` 반환
        *   `"5 - 3"` 입력 시 `int64(2)` 반환
        *   `"10 + -5"` 입력 시 `int64(5)` 반환 (음수 덧셈)
        *   `"-2 + -3"` 입력 시 `int64(-5)` 반환
        *   `"1.5 + 2.5"` 입력 시 `float64(4.0)` 반환
        *   `"3.0 - 1.5"` 입력 시 `float64(1.5)` 반환
        *   `"10 + 2.5"` 입력 시 `float64(12.5)` 반환 (정수 + 실수)
        *   `"7.5 - 2"` 입력 시 `float64(5.5)` 반환 (실수 - 정수)
        *   `"1 + 2 + 3"` 입력 시 `int64(6)` 반환 (왼쪽에서 오른쪽으로)
        *   `"10 - 3 - 2"` 입력 시 `int64(5)` 반환 (왼쪽에서 오른쪽으로)
        *   `" 1 + 2 "` (공백 포함) 입력 시 `int64(3)` 반환
    *   확인: 정수, 실수, 혼합 타입 연산 및 여러 연산자가 순차적으로 나오는 경우를 포함하는지 확인합니다. 피연산자와 연산자 사이의 공백도 처리해야 합니다.
2.  **단순 산술 연산 테스트 실행 (실패 확인):**
    *   작업: `go test -v yak/interpreter` 명령으로 테스트를 실행합니다.
    *   확인: `TestEvaluateArithmeticSimple`의 모든 케이스가 실패하는지 확인합니다. 현재 `Evaluate`는 단일 리터럴만 처리 가능하므로 "cannot evaluate expression: ..." 오류가 발생할 것입니다.
3.  **단순 산술 연산 로직의 기본 틀 구현 (덧셈 우선):**
    *   작업: `interpreter/interpreter.go`의 `Evaluate` 함수를 수정합니다.
        1.  가장 먼저 문자열 리터럴인지 확인하는 로직은 유지합니다.
        2.  그다음, `+` 연산자를 기준으로 문자열을 분리(예: `strings.SplitN(expression, "+", 2)` 또는 `strings.Index` 후 슬라이싱)하여 왼쪽 피연산자(LHS)와 오른쪽 피연산자(RHS)를 얻습니다.
        3.  LHS와 RHS를 각각 재귀적으로 `Evaluate` 함수에 전달하여 값을 얻습니다. (공백 제거 `strings.TrimSpace` 필요)
        4.  두 결과 값의 타입(정수/실수)에 따라 적절히 덧셈을 수행합니다. (하나라도 `float64`면 결과는 `float64`)
        5.  `+` 연산자가 없거나, 재귀 호출에서 에러가 발생하면 기존의 단일 리터럴 파싱(실수, 정수 순) 또는 에러 처리 로직으로 넘어갑니다.
    *   확인: `+` 연산자 분리, 재귀 호출, 타입에 따른 연산, 에러 처리가 적절한지 확인합니다. 처음에는 `+`만 처리하여 단계를 단순화합니다.
4.  **덧셈 테스트 실행 (부분 성공 확인):**
    *   작업: `go test -v yak/interpreter` 명령으로 테스트를 다시 실행합니다.
    *   확인: `TestEvaluateArithmeticSimple`에서 덧셈 관련 테스트 케이스(정수, 실수, 혼합)는 성공하고, 뺄셈 관련 케이스는 여전히 실패하는지 확인합니다.
5.  **뺄셈 연산 로직 추가:**
    *   작업: `Evaluate` 함수를 더 수정합니다.
        1.  덧셈 연산자(`+`)를 먼저 찾기 전에, 뺄셈 연산자(`-`)를 먼저 찾도록 순서를 조정하거나, 두 연산자를 모두 고려하는 방식으로 변경합니다. 간단하게는 `+` 처리 후, 그 결과가 없다면 `-`를 처리하는 방식으로 할 수 있습니다. (주의: `-`는 음수 부호와 뺄셈 연산자 두 가지 의미가 있으므로 주의. 여기서는 이항 연산자로서의 `-`를 먼저 고려. `10 - -5` 같은 케이스는 추후에 더 정교한 파서가 필요할 수 있음. 일단은 `숫자 - 숫자` 형태에 집중)
        2.  `-` 연산자를 기준으로 분리하고, LHS와 RHS를 `Evaluate`한 후 뺄셈을 수행합니다. 타입 규칙은 덧셈과 유사합니다.
    *   확인: 뺄셈 로직이 덧셈과 유사하게 올바르게 추가되었는지, 두 연산자가 함께 있을 때 (예: `"1 + 5 - 2"`) 왼쪽에서 오른쪽으로 처리되는지 (현재 설계상) 확인합니다.
6.  **모든 단순 산술 테스트 실행 (성공 확인):**
    *   작업: `go test -v yak/interpreter` 명령으로 테스트를 다시 실행합니다.
    *   확인: `TestEvaluateArithmeticSimple`의 모든 덧셈 및 뺄셈 케이스가 성공하는지 확인합니다. 다른 테스트 (`TestEvaluate...`, `TestExecuteLineShowStatement`)도 여전히 통과해야 합니다.
